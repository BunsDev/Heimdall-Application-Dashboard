var lo=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},so={exports:{}};/*! Sortable 1.15.0 - MIT | git://github.com/SortableJS/Sortable.git */(function($t,co){(function(at,V){$t.exports=V()})(lo,function(){function at(e,t){var o,i=Object.keys(e);return Object.getOwnPropertySymbols&&(o=Object.getOwnPropertySymbols(e),t&&(o=o.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),i.push.apply(i,o)),i}function V(e){for(var t=1;t<arguments.length;t++){var o=arguments[t]!=null?arguments[t]:{};t%2?at(Object(o),!0).forEach(function(i){var n,r;n=e,i=o[r=i],r in n?Object.defineProperty(n,r,{value:i,enumerable:!0,configurable:!0,writable:!0}):n[r]=i}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(o)):at(Object(o)).forEach(function(i){Object.defineProperty(e,i,Object.getOwnPropertyDescriptor(o,i))})}return e}function At(e){return(At=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(e)}function $(){return($=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var o,i=arguments[t];for(o in i)Object.prototype.hasOwnProperty.call(i,o)&&(e[o]=i[o])}return e}).apply(this,arguments)}function Qt(e,t){if(e==null)return{};var o,i=function(a,l){if(a==null)return{};for(var s,u={},h=Object.keys(a),v=0;v<h.length;v++)s=h[v],0<=l.indexOf(s)||(u[s]=a[s]);return u}(e,t);if(Object.getOwnPropertySymbols)for(var n=Object.getOwnPropertySymbols(e),r=0;r<n.length;r++)o=n[r],0<=t.indexOf(o)||Object.prototype.propertyIsEnumerable.call(e,o)&&(i[o]=e[o]);return i}function Jt(e){return function(t){if(Array.isArray(t))return lt(t)}(e)||function(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}(e)||function(t,o){if(t){if(typeof t=="string")return lt(t,o);var i=Object.prototype.toString.call(t).slice(8,-1);return(i=i==="Object"&&t.constructor?t.constructor.name:i)==="Map"||i==="Set"?Array.from(t):i==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i)?lt(t,o):void 0}}(e)||function(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function lt(e,t){(t==null||t>e.length)&&(t=e.length);for(var o=0,i=new Array(t);o<t;o++)i[o]=e[o];return i}function ie(e){if(typeof window<"u"&&window.navigator)return!!navigator.userAgent.match(e)}var re=ie(/(?:Trident.*rv[ :]?11\.|msie|iemobile|Windows Phone)/i),xe=ie(/Edge/i),Mt=ie(/firefox/i),Oe=ie(/safari/i)&&!ie(/chrome/i)&&!ie(/android/i),Nt=ie(/iP(ad|od|hone)/i),Be=ie(/chrome/i)&&ie(/android/i),It={capture:!1,passive:!1};function w(e,t,o){e.addEventListener(t,o,!re&&It)}function y(e,t,o){e.removeEventListener(t,o,!re&&It)}function st(e,t){if(t&&(t[0]===">"&&(t=t.substring(1)),e))try{if(e.matches)return e.matches(t);if(e.msMatchesSelector)return e.msMatchesSelector(t);if(e.webkitMatchesSelector)return e.webkitMatchesSelector(t)}catch{return}}function Q(e,t,o,i){if(e){o=o||document;do if(t!=null&&(t[0]!==">"||e.parentNode===o)&&st(e,t)||i&&e===o)return e;while(e!==o&&(e=(n=e).host&&n!==document&&n.host.nodeType?n.host:n.parentNode))}var n;return null}var Ae,Pt=/\s+/g;function x(e,t,o){var i;e&&t&&(e.classList?e.classList[o?"add":"remove"](t):(i=(" "+e.className+" ").replace(Pt," ").replace(" "+t+" "," "),e.className=(i+(o?" "+t:"")).replace(Pt," ")))}function d(e,t,o){var i=e&&e.style;if(i){if(o===void 0)return document.defaultView&&document.defaultView.getComputedStyle?o=document.defaultView.getComputedStyle(e,""):e.currentStyle&&(o=e.currentStyle),t===void 0?o:o[t];i[t=t in i||t.indexOf("webkit")!==-1?t:"-webkit-"+t]=o+(typeof o=="string"?"":"px")}}function me(e,t){var o="";if(typeof e=="string")o=e;else do var i=d(e,"transform");while(i&&i!=="none"&&(o=i+" "+o),!t&&(e=e.parentNode));var n=window.DOMMatrix||window.WebKitCSSMatrix||window.CSSMatrix||window.MSCSSMatrix;return n&&new n(o)}function kt(e,t,o){if(e){var i=e.getElementsByTagName(t),n=0,r=i.length;if(o)for(;n<r;n++)o(i[n],n);return i}return[]}function oe(){var e=document.scrollingElement;return e||document.documentElement}function _(e,t,o,i,n){if(e.getBoundingClientRect||e===window){var r,a,l,s,u,h,v=e!==window&&e.parentNode&&e!==oe()?(a=(r=e.getBoundingClientRect()).top,l=r.left,s=r.bottom,u=r.right,h=r.height,r.width):(l=a=0,s=window.innerHeight,u=window.innerWidth,h=window.innerHeight,window.innerWidth);if((t||o)&&e!==window&&(n=n||e.parentNode,!re))do if(n&&n.getBoundingClientRect&&(d(n,"transform")!=="none"||o&&d(n,"position")!=="static")){var E=n.getBoundingClientRect();a-=E.top+parseInt(d(n,"border-top-width")),l-=E.left+parseInt(d(n,"border-left-width")),s=a+r.height,u=l+r.width;break}while(n=n.parentNode);return i&&e!==window&&(i=(t=me(n||e))&&t.a,e=t&&t.d,t&&(s=(a/=e)+(h/=e),u=(l/=i)+(v/=i))),{top:a,left:l,bottom:s,right:u,width:v,height:h}}}function Rt(e,t,o){for(var i=de(e,!0),n=_(e)[t];i;){var r=_(i)[o];if(!(o==="top"||o==="left"?r<=n:n<=r))return i;if(i===oe())break;i=de(i,!1)}return!1}function Ee(e,t,o,i){for(var n=0,r=0,a=e.children;r<a.length;){if(a[r].style.display!=="none"&&a[r]!==f.ghost&&(i||a[r]!==f.dragged)&&Q(a[r],o.draggable,e,!1)){if(n===t)return a[r];n++}r++}return null}function ct(e,t){for(var o=e.lastElementChild;o&&(o===f.ghost||d(o,"display")==="none"||t&&!st(o,t));)o=o.previousElementSibling;return o||null}function M(e,t){var o=0;if(!e||!e.parentNode)return-1;for(;e=e.previousElementSibling;)e.nodeName.toUpperCase()==="TEMPLATE"||e===f.clone||t&&!st(e,t)||o++;return o}function Xt(e){var t=0,o=0,i=oe();if(e)do var r=me(e),n=r.a,r=r.d;while(t+=e.scrollLeft*n,o+=e.scrollTop*r,e!==i&&(e=e.parentNode));return[t,o]}function de(e,t){if(!e||!e.getBoundingClientRect)return oe();var o=e,i=!1;do if(o.clientWidth<o.scrollWidth||o.clientHeight<o.scrollHeight){var n=d(o);if(o.clientWidth<o.scrollWidth&&(n.overflowX=="auto"||n.overflowX=="scroll")||o.clientHeight<o.scrollHeight&&(n.overflowY=="auto"||n.overflowY=="scroll")){if(!o.getBoundingClientRect||o===document.body)return oe();if(i||t)return o;i=!0}}while(o=o.parentNode);return oe()}function ut(e,t){return Math.round(e.top)===Math.round(t.top)&&Math.round(e.left)===Math.round(t.left)&&Math.round(e.height)===Math.round(t.height)&&Math.round(e.width)===Math.round(t.width)}function Yt(e,t){return function(){var o;Ae||((o=arguments).length===1?e.call(this,o[0]):e.apply(this,o),Ae=setTimeout(function(){Ae=void 0},t))}}function Bt(e,t,o){e.scrollLeft+=t,e.scrollTop+=o}function dt(e){var t=window.Polymer,o=window.jQuery||window.Zepto;return t&&t.dom?t.dom(e).cloneNode(!0):o?o(e).clone(!0)[0]:e.cloneNode(!0)}function Ft(e,t){d(e,"position","absolute"),d(e,"top",t.top),d(e,"left",t.left),d(e,"width",t.width),d(e,"height",t.height)}function ht(e){d(e,"position",""),d(e,"top",""),d(e,"left",""),d(e,"width",""),d(e,"height","")}var B="Sortable"+new Date().getTime();function eo(){var e,t=[];return{captureAnimationState:function(){t=[],this.options.animation&&[].slice.call(this.el.children).forEach(function(o){var i,n;d(o,"display")!=="none"&&o!==f.ghost&&(t.push({target:o,rect:_(o)}),i=V({},t[t.length-1].rect),!o.thisAnimationDuration||(n=me(o,!0))&&(i.top-=n.f,i.left-=n.e),o.fromRect=i)})},addAnimationState:function(o){t.push(o)},removeAnimationState:function(o){t.splice(function(i,n){for(var r in i)if(i.hasOwnProperty(r)){for(var a in n)if(n.hasOwnProperty(a)&&n[a]===i[r][a])return Number(r)}return-1}(t,{target:o}),1)},animateAll:function(o){var i=this;if(!this.options.animation)return clearTimeout(e),void(typeof o=="function"&&o());var n=!1,r=0;t.forEach(function(a){var l=0,s=a.target,u=s.fromRect,h=_(s),v=s.prevFromRect,E=s.prevToRect,g=a.rect,O=me(s,!0);O&&(h.top-=O.f,h.left-=O.e),s.toRect=h,s.thisAnimationDuration&&ut(v,h)&&!ut(u,h)&&(g.top-h.top)/(g.left-h.left)==(u.top-h.top)/(u.left-h.left)&&(a=g,O=v,v=E,E=i.options,l=Math.sqrt(Math.pow(O.top-a.top,2)+Math.pow(O.left-a.left,2))/Math.sqrt(Math.pow(O.top-v.top,2)+Math.pow(O.left-v.left,2))*E.animation),ut(h,u)||(s.prevFromRect=u,s.prevToRect=h,l=l||i.options.animation,i.animate(s,g,h,l)),l&&(n=!0,r=Math.max(r,l),clearTimeout(s.animationResetTimer),s.animationResetTimer=setTimeout(function(){s.animationTime=0,s.prevFromRect=null,s.fromRect=null,s.prevToRect=null,s.thisAnimationDuration=null},l),s.thisAnimationDuration=l)}),clearTimeout(e),n?e=setTimeout(function(){typeof o=="function"&&o()},r):typeof o=="function"&&o(),t=[]},animate:function(o,i,n,r){var a,l;r&&(d(o,"transition",""),d(o,"transform",""),a=(l=me(this.el))&&l.a,l=l&&l.d,a=(i.left-n.left)/(a||1),l=(i.top-n.top)/(l||1),o.animatingX=!!a,o.animatingY=!!l,d(o,"transform","translate3d("+a+"px,"+l+"px,0)"),this.forRepaintDummy=o.offsetWidth,d(o,"transition","transform "+r+"ms"+(this.options.easing?" "+this.options.easing:"")),d(o,"transform","translate3d(0,0,0)"),typeof o.animated=="number"&&clearTimeout(o.animated),o.animated=setTimeout(function(){d(o,"transition",""),d(o,"transform",""),o.animated=!1,o.animatingX=!1,o.animatingY=!1},r))}}}var De=[],ft={initializeByDefault:!0},Me={mount:function(e){for(var t in ft)!ft.hasOwnProperty(t)||t in e||(e[t]=ft[t]);De.forEach(function(o){if(o.pluginName===e.pluginName)throw"Sortable: Cannot mount plugin ".concat(e.pluginName," more than once")}),De.push(e)},pluginEvent:function(e,t,o){var i=this;this.eventCanceled=!1,o.cancel=function(){i.eventCanceled=!0};var n=e+"Global";De.forEach(function(r){t[r.pluginName]&&(t[r.pluginName][n]&&t[r.pluginName][n](V({sortable:t},o)),t.options[r.pluginName]&&t[r.pluginName][e]&&t[r.pluginName][e](V({sortable:t},o)))})},initializePlugins:function(e,t,o,i){for(var n in De.forEach(function(a){var l=a.pluginName;(e.options[l]||a.initializeByDefault)&&((a=new a(e,t,e.options)).sortable=e,a.options=e.options,e[l]=a,$(o,a.defaults))}),e.options){var r;e.options.hasOwnProperty(n)&&(r=this.modifyOption(e,n,e.options[n]))!==void 0&&(e.options[n]=r)}},getEventProperties:function(e,t){var o={};return De.forEach(function(i){typeof i.eventProperties=="function"&&$(o,i.eventProperties.call(t[i.pluginName],e))}),o},modifyOption:function(e,t,o){var i;return De.forEach(function(n){e[n.pluginName]&&n.optionListeners&&typeof n.optionListeners[t]=="function"&&(i=n.optionListeners[t].call(e[n.pluginName],o))}),i}};function Ne(e){var t=e.sortable,o=e.rootEl,i=e.name,n=e.targetEl,r=e.cloneEl,a=e.toEl,l=e.fromEl,s=e.oldIndex,u=e.newIndex,h=e.oldDraggableIndex,v=e.newDraggableIndex,E=e.originalEvent,g=e.putSortable,O=e.extraEventProperties;if(t=t||o&&o[B]){var b,P=t.options,e="on"+i.charAt(0).toUpperCase()+i.substr(1);!window.CustomEvent||re||xe?(b=document.createEvent("Event")).initEvent(i,!0,!0):b=new CustomEvent(i,{bubbles:!0,cancelable:!0}),b.to=a||o,b.from=l||o,b.item=n||o,b.clone=r,b.oldIndex=s,b.newIndex=u,b.oldDraggableIndex=h,b.newDraggableIndex=v,b.originalEvent=E,b.pullMode=g?g.lastPutMode:void 0;var G,D=V(V({},O),Me.getEventProperties(i,t));for(G in D)b[G]=D[G];o&&o.dispatchEvent(b),P[e]&&P[e].call(t,b)}}function L(e,t){var o=(i=2<arguments.length&&arguments[2]!==void 0?arguments[2]:{}).evt,i=Qt(i,to);Me.pluginEvent.bind(f)(e,t,V({dragEl:c,parentEl:N,ghostEl:m,rootEl:C,nextEl:ve,lastDownEl:We,cloneEl:I,cloneHidden:he,dragStarted:Pe,putSortable:H,activeSortable:f.active,originalEvent:o,oldIndex:Se,oldDraggableIndex:Ie,newIndex:W,newDraggableIndex:fe,hideGhostForTarget:Gt,unhideGhostForTarget:Ut,cloneNowHidden:function(){he=!0},cloneNowShown:function(){he=!1},dispatchSortableEvent:function(n){j({sortable:t,name:n,originalEvent:o})}},i))}var to=["evt"];function j(e){Ne(V({putSortable:H,cloneEl:I,targetEl:c,rootEl:C,oldIndex:Se,oldDraggableIndex:Ie,newIndex:W,newDraggableIndex:fe},e))}var c,N,m,C,ve,We,I,he,Se,W,Ie,fe,ze,H,be,J,pt,gt,jt,Ht,Pe,_e,ke,Ge,F,Ce=!1,Ue=!1,qe=[],Re=!1,Ve=!1,mt=[],vt=!1,Ze=[],$e=typeof document<"u",Qe=Nt,Lt=xe||re?"cssFloat":"float",oo=$e&&!Be&&!Nt&&"draggable"in document.createElement("div"),Kt=function(){if($e){if(re)return!1;var e=document.createElement("x");return e.style.cssText="pointer-events:auto",e.style.pointerEvents==="auto"}}(),Wt=function(u,t){var o=d(u),i=parseInt(o.width)-parseInt(o.paddingLeft)-parseInt(o.paddingRight)-parseInt(o.borderLeftWidth)-parseInt(o.borderRightWidth),n=Ee(u,0,t),r=Ee(u,1,t),a=n&&d(n),l=r&&d(r),s=a&&parseInt(a.marginLeft)+parseInt(a.marginRight)+_(n).width,u=l&&parseInt(l.marginLeft)+parseInt(l.marginRight)+_(r).width;return o.display==="flex"?o.flexDirection==="column"||o.flexDirection==="column-reverse"?"vertical":"horizontal":o.display==="grid"?o.gridTemplateColumns.split(" ").length<=1?"vertical":"horizontal":n&&a.float&&a.float!=="none"?(t=a.float==="left"?"left":"right",!r||l.clear!=="both"&&l.clear!==t?"horizontal":"vertical"):n&&(a.display==="block"||a.display==="flex"||a.display==="table"||a.display==="grid"||i<=s&&o[Lt]==="none"||r&&o[Lt]==="none"&&i<s+u)?"vertical":"horizontal"},zt=function(e){function t(n,r){return function(a,l,s,u){var h=a.options.group.name&&l.options.group.name&&a.options.group.name===l.options.group.name;return n==null&&(r||h)?!0:n==null||n===!1?!1:r&&n==="clone"?n:typeof n=="function"?t(n(a,l,s,u),r)(a,l,s,u):(l=(r?a:l).options.group.name,n===!0||typeof n=="string"&&n===l||n.join&&-1<n.indexOf(l))}}var o={},i=e.group;i&&At(i)=="object"||(i={name:i}),o.name=i.name,o.checkPull=t(i.pull,!0),o.checkPut=t(i.put),o.revertClone=i.revertClone,e.group=o},Gt=function(){!Kt&&m&&d(m,"display","none")},Ut=function(){!Kt&&m&&d(m,"display","")};$e&&!Be&&document.addEventListener("click",function(e){if(Ue)return e.preventDefault(),e.stopPropagation&&e.stopPropagation(),e.stopImmediatePropagation&&e.stopImmediatePropagation(),Ue=!1},!0);function ye(e){if(c){e=e.touches?e.touches[0]:e;var t=(n=e.clientX,r=e.clientY,qe.some(function(l){var s=l[B].options.emptyInsertThreshold;if(s&&!ct(l)){var u=_(l),h=n>=u.left-s&&n<=u.right+s,s=r>=u.top-s&&r<=u.bottom+s;return h&&s?a=l:void 0}}),a);if(t){var o,i={};for(o in e)e.hasOwnProperty(o)&&(i[o]=e[o]);i.target=i.rootEl=t,i.preventDefault=void 0,i.stopPropagation=void 0,t[B]._onDragOver(i)}}var n,r,a}function no(e){c&&c.parentNode[B]._isOutsideThisEl(e.target)}function f(e,t){if(!e||!e.nodeType||e.nodeType!==1)throw"Sortable: `el` must be an HTMLElement, not ".concat({}.toString.call(e));this.el=e,this.options=t=$({},t),e[B]=this;var o,i,n={group:null,sort:!0,disabled:!1,store:null,handle:null,draggable:/^[uo]l$/i.test(e.nodeName)?">li":">*",swapThreshold:1,invertSwap:!1,invertedSwapThreshold:null,removeCloneOnHide:!0,direction:function(){return Wt(e,this.options)},ghostClass:"sortable-ghost",chosenClass:"sortable-chosen",dragClass:"sortable-drag",ignore:"a, img",filter:null,preventOnFilter:!0,animation:0,easing:null,setData:function(r,a){r.setData("Text",a.textContent)},dropBubble:!1,dragoverBubble:!1,dataIdAttr:"data-id",delay:0,delayOnTouchOnly:!1,touchStartThreshold:(Number.parseInt?Number:window).parseInt(window.devicePixelRatio,10)||1,forceFallback:!1,fallbackClass:"sortable-fallback",fallbackOnBody:!1,fallbackTolerance:0,fallbackOffset:{x:0,y:0},supportPointer:f.supportPointer!==!1&&"PointerEvent"in window&&!Oe,emptyInsertThreshold:5};for(o in Me.initializePlugins(this,e,n),n)o in t||(t[o]=n[o]);for(i in zt(t),this)i.charAt(0)==="_"&&typeof this[i]=="function"&&(this[i]=this[i].bind(this));this.nativeDraggable=!t.forceFallback&&oo,this.nativeDraggable&&(this.options.touchStartThreshold=1),t.supportPointer?w(e,"pointerdown",this._onTapStart):(w(e,"mousedown",this._onTapStart),w(e,"touchstart",this._onTapStart)),this.nativeDraggable&&(w(e,"dragover",this),w(e,"dragenter",this)),qe.push(this.el),t.store&&t.store.get&&this.sort(t.store.get(this)||[]),$(this,eo())}function Je(e,t,o,i,n,r,a,l){var s,u,h=e[B],v=h.options.onMove;return!window.CustomEvent||re||xe?(s=document.createEvent("Event")).initEvent("move",!0,!0):s=new CustomEvent("move",{bubbles:!0,cancelable:!0}),s.to=t,s.from=e,s.dragged=o,s.draggedRect=i,s.related=n||t,s.relatedRect=r||_(t),s.willInsertAfter=l,s.originalEvent=a,e.dispatchEvent(s),u=v?v.call(h,s,a):u}function bt(e){e.draggable=!1}function io(){vt=!1}function et(e){return setTimeout(e,0)}function yt(e){return clearTimeout(e)}f.prototype={constructor:f,_isOutsideThisEl:function(e){this.el.contains(e)||e===this.el||(_e=null)},_getDirection:function(e,t){return typeof this.options.direction=="function"?this.options.direction.call(this,e,t,c):this.options.direction},_onTapStart:function(e){if(e.cancelable){var t=this,o=this.el,i=this.options,n=i.preventOnFilter,r=e.type,a=e.touches&&e.touches[0]||e.pointerType&&e.pointerType==="touch"&&e,l=(a||e).target,s=e.target.shadowRoot&&(e.path&&e.path[0]||e.composedPath&&e.composedPath()[0])||l,u=i.filter;if(function(h){Ze.length=0;for(var v=h.getElementsByTagName("input"),E=v.length;E--;){var g=v[E];g.checked&&Ze.push(g)}}(o),!c&&!(/mousedown|pointerdown/.test(r)&&e.button!==0||i.disabled)&&!s.isContentEditable&&(this.nativeDraggable||!Oe||!l||l.tagName.toUpperCase()!=="SELECT")&&!((l=Q(l,i.draggable,o,!1))&&l.animated||We===l)){if(Se=M(l),Ie=M(l,i.draggable),typeof u=="function"){if(u.call(this,e,l,this))return j({sortable:t,rootEl:s,name:"filter",targetEl:l,toEl:o,fromEl:o}),L("filter",t,{evt:e}),void(n&&e.cancelable&&e.preventDefault())}else if(u=u&&u.split(",").some(function(h){if(h=Q(s,h.trim(),o,!1))return j({sortable:t,rootEl:h,name:"filter",targetEl:l,fromEl:o,toEl:o}),L("filter",t,{evt:e}),!0}))return void(n&&e.cancelable&&e.preventDefault());i.handle&&!Q(s,i.handle,o,!1)||this._prepareDragStart(e,a,l)}}},_prepareDragStart:function(e,t,o){var i,n=this,r=n.el,a=n.options,l=r.ownerDocument;o&&!c&&o.parentNode===r&&(i=_(o),C=r,N=(c=o).parentNode,ve=c.nextSibling,We=o,ze=a.group,be={target:f.dragged=c,clientX:(t||e).clientX,clientY:(t||e).clientY},jt=be.clientX-i.left,Ht=be.clientY-i.top,this._lastX=(t||e).clientX,this._lastY=(t||e).clientY,c.style["will-change"]="all",i=function(){L("delayEnded",n,{evt:e}),f.eventCanceled?n._onDrop():(n._disableDelayedDragEvents(),!Mt&&n.nativeDraggable&&(c.draggable=!0),n._triggerDragStart(e,t),j({sortable:n,name:"choose",originalEvent:e}),x(c,a.chosenClass,!0))},a.ignore.split(",").forEach(function(s){kt(c,s.trim(),bt)}),w(l,"dragover",ye),w(l,"mousemove",ye),w(l,"touchmove",ye),w(l,"mouseup",n._onDrop),w(l,"touchend",n._onDrop),w(l,"touchcancel",n._onDrop),Mt&&this.nativeDraggable&&(this.options.touchStartThreshold=4,c.draggable=!0),L("delayStart",this,{evt:e}),!a.delay||a.delayOnTouchOnly&&!t||this.nativeDraggable&&(xe||re)?i():f.eventCanceled?this._onDrop():(w(l,"mouseup",n._disableDelayedDrag),w(l,"touchend",n._disableDelayedDrag),w(l,"touchcancel",n._disableDelayedDrag),w(l,"mousemove",n._delayedDragTouchMoveHandler),w(l,"touchmove",n._delayedDragTouchMoveHandler),a.supportPointer&&w(l,"pointermove",n._delayedDragTouchMoveHandler),n._dragStartTimer=setTimeout(i,a.delay)))},_delayedDragTouchMoveHandler:function(e){e=e.touches?e.touches[0]:e,Math.max(Math.abs(e.clientX-this._lastX),Math.abs(e.clientY-this._lastY))>=Math.floor(this.options.touchStartThreshold/(this.nativeDraggable&&window.devicePixelRatio||1))&&this._disableDelayedDrag()},_disableDelayedDrag:function(){c&&bt(c),clearTimeout(this._dragStartTimer),this._disableDelayedDragEvents()},_disableDelayedDragEvents:function(){var e=this.el.ownerDocument;y(e,"mouseup",this._disableDelayedDrag),y(e,"touchend",this._disableDelayedDrag),y(e,"touchcancel",this._disableDelayedDrag),y(e,"mousemove",this._delayedDragTouchMoveHandler),y(e,"touchmove",this._delayedDragTouchMoveHandler),y(e,"pointermove",this._delayedDragTouchMoveHandler)},_triggerDragStart:function(e,t){t=t||e.pointerType=="touch"&&e,!this.nativeDraggable||t?this.options.supportPointer?w(document,"pointermove",this._onTouchMove):w(document,t?"touchmove":"mousemove",this._onTouchMove):(w(c,"dragend",this),w(C,"dragstart",this._onDragStart));try{document.selection?et(function(){document.selection.empty()}):window.getSelection().removeAllRanges()}catch{}},_dragStarted:function(e,t){var o;Ce=!1,C&&c?(L("dragStarted",this,{evt:t}),this.nativeDraggable&&w(document,"dragover",no),o=this.options,e||x(c,o.dragClass,!1),x(c,o.ghostClass,!0),f.active=this,e&&this._appendGhost(),j({sortable:this,name:"start",originalEvent:t})):this._nulling()},_emulateDragOver:function(){if(J){this._lastX=J.clientX,this._lastY=J.clientY,Gt();for(var e=document.elementFromPoint(J.clientX,J.clientY),t=e;e&&e.shadowRoot&&(e=e.shadowRoot.elementFromPoint(J.clientX,J.clientY))!==t;)t=e;if(c.parentNode[B]._isOutsideThisEl(e),t)do if(t[B]&&t[B]._onDragOver({clientX:J.clientX,clientY:J.clientY,target:e,rootEl:t})&&!this.options.dragoverBubble)break;while(t=(e=t).parentNode);Ut()}},_onTouchMove:function(e){if(be){var r=this.options,t=r.fallbackTolerance,o=r.fallbackOffset,i=e.touches?e.touches[0]:e,n=m&&me(m,!0),a=m&&n&&n.a,l=m&&n&&n.d,r=Qe&&F&&Xt(F),a=(i.clientX-be.clientX+o.x)/(a||1)+(r?r[0]-mt[0]:0)/(a||1),l=(i.clientY-be.clientY+o.y)/(l||1)+(r?r[1]-mt[1]:0)/(l||1);if(!f.active&&!Ce){if(t&&Math.max(Math.abs(i.clientX-this._lastX),Math.abs(i.clientY-this._lastY))<t)return;this._onDragStart(e,!0)}m&&(n?(n.e+=a-(pt||0),n.f+=l-(gt||0)):n={a:1,b:0,c:0,d:1,e:a,f:l},n="matrix(".concat(n.a,",").concat(n.b,",").concat(n.c,",").concat(n.d,",").concat(n.e,",").concat(n.f,")"),d(m,"webkitTransform",n),d(m,"mozTransform",n),d(m,"msTransform",n),d(m,"transform",n),pt=a,gt=l,J=i),e.cancelable&&e.preventDefault()}},_appendGhost:function(){if(!m){var e=this.options.fallbackOnBody?document.body:C,t=_(c,!0,Qe,!0,e),o=this.options;if(Qe){for(F=e;d(F,"position")==="static"&&d(F,"transform")==="none"&&F!==document;)F=F.parentNode;F!==document.body&&F!==document.documentElement?(F===document&&(F=oe()),t.top+=F.scrollTop,t.left+=F.scrollLeft):F=oe(),mt=Xt(F)}x(m=c.cloneNode(!0),o.ghostClass,!1),x(m,o.fallbackClass,!0),x(m,o.dragClass,!0),d(m,"transition",""),d(m,"transform",""),d(m,"box-sizing","border-box"),d(m,"margin",0),d(m,"top",t.top),d(m,"left",t.left),d(m,"width",t.width),d(m,"height",t.height),d(m,"opacity","0.8"),d(m,"position",Qe?"absolute":"fixed"),d(m,"zIndex","100000"),d(m,"pointerEvents","none"),f.ghost=m,e.appendChild(m),d(m,"transform-origin",jt/parseInt(m.style.width)*100+"% "+Ht/parseInt(m.style.height)*100+"%")}},_onDragStart:function(e,t){var o=this,i=e.dataTransfer,n=o.options;L("dragStart",this,{evt:e}),f.eventCanceled?this._onDrop():(L("setupClone",this),f.eventCanceled||((I=dt(c)).removeAttribute("id"),I.draggable=!1,I.style["will-change"]="",this._hideClone(),x(I,this.options.chosenClass,!1),f.clone=I),o.cloneId=et(function(){L("clone",o),f.eventCanceled||(o.options.removeCloneOnHide||C.insertBefore(I,c),o._hideClone(),j({sortable:o,name:"clone"}))}),t||x(c,n.dragClass,!0),t?(Ue=!0,o._loopId=setInterval(o._emulateDragOver,50)):(y(document,"mouseup",o._onDrop),y(document,"touchend",o._onDrop),y(document,"touchcancel",o._onDrop),i&&(i.effectAllowed="move",n.setData&&n.setData.call(o,i,c)),w(document,"drop",o),d(c,"transform","translateZ(0)")),Ce=!0,o._dragStartId=et(o._dragStarted.bind(o,t,e)),w(document,"selectstart",o),Pe=!0,Oe&&d(document.body,"user-select","none"))},_onDragOver:function(e){var t,o,i,n,r=this.el,a=e.target,l=this.options,s=l.group,u=f.active,h=ze===s,v=l.sort,E=H||u,g=this,O=!1;if(!vt){if(e.preventDefault!==void 0&&e.cancelable&&e.preventDefault(),a=Q(a,l.draggable,r,!0),Y("dragOver"),f.eventCanceled)return O;if(c.contains(e.target)||a.animated&&a.animatingX&&a.animatingY||g._ignoreWhileAnimating===a)return q(!1);if(Ue=!1,u&&!l.disabled&&(h?v||(o=N!==C):H===this||(this.lastPutMode=ze.checkPull(this,u,c,e))&&s.checkPut(this,u,c,e))){if(i=this._getDirection(e,a)==="vertical",t=_(c),Y("dragOverValid"),f.eventCanceled)return O;if(o)return N=C,se(),this._hideClone(),Y("revert"),f.eventCanceled||(ve?C.insertBefore(c,ve):C.appendChild(c)),q(!0);var b=ct(r,l.draggable);if(!b||function(R,Ke,T){return T=_(ct(T.el,T.options.draggable)),Ke?R.clientX>T.right+10||R.clientX<=T.right&&R.clientY>T.bottom&&R.clientX>=T.left:R.clientX>T.right&&R.clientY>T.top||R.clientX<=T.right&&R.clientY>T.bottom+10}(e,i,this)&&!b.animated){if(b===c)return q(!1);if((a=b&&r===e.target?b:a)&&(U=_(a)),Je(C,r,c,t,a,U,e,!!a)!==!1)return se(),b&&b.nextSibling?r.insertBefore(c,b.nextSibling):r.appendChild(c),N=r,we(),q(!0)}else if(b&&function(R,Ke,T){return T=_(Ee(T.el,0,T.options,!0)),Ke?R.clientX<T.left-10||R.clientY<T.top&&R.clientX<T.right:R.clientY<T.top-10||R.clientY<T.bottom&&R.clientX<T.left}(e,i,this)){var P=Ee(r,0,l,!0);if(P===c)return q(!1);if(U=_(a=P),Je(C,r,c,t,a,U,e,!1)!==!1)return se(),r.insertBefore(c,P),N=r,we(),q(!0)}else if(a.parentNode===r){var G,D,Z,U=_(a),le=c.parentNode!==r,A=(A=c.animated&&c.toRect||t,k=a.animated&&a.toRect||U,ae=(n=i)?A.left:A.top,s=n?A.right:A.bottom,b=n?A.width:A.height,P=n?k.left:k.top,A=n?k.right:k.bottom,k=n?k.width:k.height,!(ae===P||s===A||ae+b/2===P+k/2)),ae=i?"top":"left",b=Rt(a,"top","top")||Rt(c,"top","top"),P=b?b.scrollTop:void 0;if(_e!==a&&(D=U[ae],Re=!1,Ve=!A&&l.invertSwap||le),(G=function(ge,xt,ne,ue,Ot,rt,Zt,ro){var ce=ue?ge.clientY:ge.clientX,pe=ue?ne.height:ne.width,ge=ue?ne.top:ne.left,ue=ue?ne.bottom:ne.right,ne=!1;if(!Zt){if(ro&&Ge<pe*Ot){if(Re=!Re&&(ke===1?ge+pe*rt/2<ce:ce<ue-pe*rt/2)?!0:Re)ne=!0;else if(ke===1?ce<ge+Ge:ue-Ge<ce)return-ke}else if(ge+pe*(1-Ot)/2<ce&&ce<ue-pe*(1-Ot)/2)return function(ao){return M(c)<M(ao)?1:-1}(xt)}return(ne=ne||Zt)&&(ce<ge+pe*rt/2||ue-pe*rt/2<ce)?ge+pe/2<ce?1:-1:0}(e,a,U,i,A?1:l.swapThreshold,l.invertedSwapThreshold==null?l.swapThreshold:l.invertedSwapThreshold,Ve,_e===a))!==0)for(var Le=M(c);(Z=N.children[Le-=G])&&(d(Z,"display")==="none"||Z===m););if(G===0||Z===a)return q(!1);ke=G;var k=(_e=a).nextElementSibling,le=!1,A=Je(C,r,c,t,a,U,e,le=G===1);if(A!==!1)return A!==1&&A!==-1||(le=A===1),vt=!0,setTimeout(io,30),se(),le&&!k?r.appendChild(c):a.parentNode.insertBefore(c,le?k:a),b&&Bt(b,0,P-b.scrollTop),N=c.parentNode,D===void 0||Ve||(Ge=Math.abs(D-_(a)[ae])),we(),q(!0)}if(r.contains(c))return q(!1)}return!1}function Y(R,Ke){L(R,g,V({evt:e,isOwner:h,axis:i?"vertical":"horizontal",revert:o,dragRect:t,targetRect:U,canSort:v,fromSortable:E,target:a,completed:q,onMove:function(T,xt){return Je(C,r,c,t,T,_(T),e,xt)},changed:we},Ke))}function se(){Y("dragOverAnimationCapture"),g.captureAnimationState(),g!==E&&E.captureAnimationState()}function q(R){return Y("dragOverCompleted",{insertion:R}),R&&(h?u._hideClone():u._showClone(g),g!==E&&(x(c,(H||u).options.ghostClass,!1),x(c,l.ghostClass,!0)),H!==g&&g!==f.active?H=g:g===f.active&&H&&(H=null),E===g&&(g._ignoreWhileAnimating=a),g.animateAll(function(){Y("dragOverAnimationComplete"),g._ignoreWhileAnimating=null}),g!==E&&(E.animateAll(),E._ignoreWhileAnimating=null)),(a===c&&!c.animated||a===r&&!a.animated)&&(_e=null),l.dragoverBubble||e.rootEl||a===document||(c.parentNode[B]._isOutsideThisEl(e.target),R||ye(e)),!l.dragoverBubble&&e.stopPropagation&&e.stopPropagation(),O=!0}function we(){W=M(c),fe=M(c,l.draggable),j({sortable:g,name:"change",toEl:r,newIndex:W,newDraggableIndex:fe,originalEvent:e})}},_ignoreWhileAnimating:null,_offMoveEvents:function(){y(document,"mousemove",this._onTouchMove),y(document,"touchmove",this._onTouchMove),y(document,"pointermove",this._onTouchMove),y(document,"dragover",ye),y(document,"mousemove",ye),y(document,"touchmove",ye)},_offUpEvents:function(){var e=this.el.ownerDocument;y(e,"mouseup",this._onDrop),y(e,"touchend",this._onDrop),y(e,"pointerup",this._onDrop),y(e,"touchcancel",this._onDrop),y(document,"selectstart",this)},_onDrop:function(e){var t=this.el,o=this.options;W=M(c),fe=M(c,o.draggable),L("drop",this,{evt:e}),N=c&&c.parentNode,W=M(c),fe=M(c,o.draggable),f.eventCanceled||(Re=Ve=Ce=!1,clearInterval(this._loopId),clearTimeout(this._dragStartTimer),yt(this.cloneId),yt(this._dragStartId),this.nativeDraggable&&(y(document,"drop",this),y(t,"dragstart",this._onDragStart)),this._offMoveEvents(),this._offUpEvents(),Oe&&d(document.body,"user-select",""),d(c,"transform",""),e&&(Pe&&(e.cancelable&&e.preventDefault(),o.dropBubble||e.stopPropagation()),m&&m.parentNode&&m.parentNode.removeChild(m),(C===N||H&&H.lastPutMode!=="clone")&&I&&I.parentNode&&I.parentNode.removeChild(I),c&&(this.nativeDraggable&&y(c,"dragend",this),bt(c),c.style["will-change"]="",Pe&&!Ce&&x(c,(H||this).options.ghostClass,!1),x(c,this.options.chosenClass,!1),j({sortable:this,name:"unchoose",toEl:N,newIndex:null,newDraggableIndex:null,originalEvent:e}),C!==N?(0<=W&&(j({rootEl:N,name:"add",toEl:N,fromEl:C,originalEvent:e}),j({sortable:this,name:"remove",toEl:N,originalEvent:e}),j({rootEl:N,name:"sort",toEl:N,fromEl:C,originalEvent:e}),j({sortable:this,name:"sort",toEl:N,originalEvent:e})),H&&H.save()):W!==Se&&0<=W&&(j({sortable:this,name:"update",toEl:N,originalEvent:e}),j({sortable:this,name:"sort",toEl:N,originalEvent:e})),f.active&&(W!=null&&W!==-1||(W=Se,fe=Ie),j({sortable:this,name:"end",toEl:N,originalEvent:e}),this.save())))),this._nulling()},_nulling:function(){L("nulling",this),C=c=N=m=ve=I=We=he=be=J=Pe=W=fe=Se=Ie=_e=ke=H=ze=f.dragged=f.ghost=f.clone=f.active=null,Ze.forEach(function(e){e.checked=!0}),Ze.length=pt=gt=0},handleEvent:function(e){switch(e.type){case"drop":case"dragend":this._onDrop(e);break;case"dragenter":case"dragover":c&&(this._onDragOver(e),function(t){t.dataTransfer&&(t.dataTransfer.dropEffect="move"),t.cancelable&&t.preventDefault()}(e));break;case"selectstart":e.preventDefault()}},toArray:function(){for(var e,t=[],o=this.el.children,i=0,n=o.length,r=this.options;i<n;i++)Q(e=o[i],r.draggable,this.el,!1)&&t.push(e.getAttribute(r.dataIdAttr)||function(a){for(var l=a.tagName+a.className+a.src+a.href+a.textContent,s=l.length,u=0;s--;)u+=l.charCodeAt(s);return u.toString(36)}(e));return t},sort:function(e,t){var o={},i=this.el;this.toArray().forEach(function(n,r){r=i.children[r],Q(r,this.options.draggable,i,!1)&&(o[n]=r)},this),t&&this.captureAnimationState(),e.forEach(function(n){o[n]&&(i.removeChild(o[n]),i.appendChild(o[n]))}),t&&this.animateAll()},save:function(){var e=this.options.store;e&&e.set&&e.set(this)},closest:function(e,t){return Q(e,t||this.options.draggable,this.el,!1)},option:function(e,t){var o=this.options;if(t===void 0)return o[e];var i=Me.modifyOption(this,e,t);o[e]=i!==void 0?i:t,e==="group"&&zt(o)},destroy:function(){L("destroy",this);var e=this.el;e[B]=null,y(e,"mousedown",this._onTapStart),y(e,"touchstart",this._onTapStart),y(e,"pointerdown",this._onTapStart),this.nativeDraggable&&(y(e,"dragover",this),y(e,"dragenter",this)),Array.prototype.forEach.call(e.querySelectorAll("[draggable]"),function(t){t.removeAttribute("draggable")}),this._onDrop(),this._disableDelayedDragEvents(),qe.splice(qe.indexOf(this.el),1),this.el=e=null},_hideClone:function(){he||(L("hideClone",this),f.eventCanceled||(d(I,"display","none"),this.options.removeCloneOnHide&&I.parentNode&&I.parentNode.removeChild(I),he=!0))},_showClone:function(e){e.lastPutMode==="clone"?he&&(L("showClone",this),f.eventCanceled||(c.parentNode!=C||this.options.group.revertClone?ve?C.insertBefore(I,ve):C.appendChild(I):C.insertBefore(I,c),this.options.group.revertClone&&this.animate(c,I),d(I,"display",""),he=!1)):this._hideClone()}},$e&&w(document,"touchmove",function(e){(f.active||Ce)&&e.cancelable&&e.preventDefault()}),f.utils={on:w,off:y,css:d,find:kt,is:function(e,t){return!!Q(e,t,e,!1)},extend:function(e,t){if(e&&t)for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o]);return e},throttle:Yt,closest:Q,toggleClass:x,clone:dt,index:M,nextTick:et,cancelNextTick:yt,detectDirection:Wt,getChild:Ee},f.get=function(e){return e[B]},f.mount=function(){for(var e=arguments.length,t=new Array(e),o=0;o<e;o++)t[o]=arguments[o];(t=t[0].constructor===Array?t[0]:t).forEach(function(i){if(!i.prototype||!i.prototype.constructor)throw"Sortable: Mounted plugin must be a constructor function, not ".concat({}.toString.call(i));i.utils&&(f.utils=V(V({},f.utils),i.utils)),Me.mount(i)})},f.create=function(e,t){return new f(e,t)};var Xe,wt,Et,Dt,tt,Ye,X=[],St=!(f.version="1.15.0");function ot(){X.forEach(function(e){clearInterval(e.pid)}),X=[]}function qt(){clearInterval(Ye)}var ee,_t=Yt(function(e,t,o,i){if(t.scroll){var n,r=(e.touches?e.touches[0]:e).clientX,a=(e.touches?e.touches[0]:e).clientY,l=t.scrollSensitivity,s=t.scrollSpeed,u=oe(),h=!1;wt!==o&&(wt=o,ot(),Xe=t.scroll,n=t.scrollFn,Xe===!0&&(Xe=de(o,!0)));var v=0,E=Xe;do{var g=E,Y=_(g),O=Y.top,b=Y.bottom,P=Y.left,G=Y.right,D=Y.width,Z=Y.height,U=void 0,le=void 0,ae=g.scrollWidth,Le=g.scrollHeight,k=d(g),A=g.scrollLeft,Y=g.scrollTop,le=g===u?(U=D<ae&&(k.overflowX==="auto"||k.overflowX==="scroll"||k.overflowX==="visible"),Z<Le&&(k.overflowY==="auto"||k.overflowY==="scroll"||k.overflowY==="visible")):(U=D<ae&&(k.overflowX==="auto"||k.overflowX==="scroll"),Z<Le&&(k.overflowY==="auto"||k.overflowY==="scroll")),A=U&&(Math.abs(G-r)<=l&&A+D<ae)-(Math.abs(P-r)<=l&&!!A),Y=le&&(Math.abs(b-a)<=l&&Y+Z<Le)-(Math.abs(O-a)<=l&&!!Y);if(!X[v])for(var se=0;se<=v;se++)X[se]||(X[se]={});X[v].vx==A&&X[v].vy==Y&&X[v].el===g||(X[v].el=g,X[v].vx=A,X[v].vy=Y,clearInterval(X[v].pid),A==0&&Y==0||(h=!0,X[v].pid=setInterval(function(){i&&this.layer===0&&f.active._onTouchMove(tt);var q=X[this.layer].vy?X[this.layer].vy*s:0,we=X[this.layer].vx?X[this.layer].vx*s:0;typeof n=="function"&&n.call(f.dragged.parentNode[B],we,q,e,tt,X[this.layer].el)!=="continue"||Bt(X[this.layer].el,we,q)}.bind({layer:v}),24))),v++}while(t.bubbleScroll&&E!==u&&(E=de(E,!1)));St=h}},30),Be=function(l){var t=l.originalEvent,o=l.putSortable,i=l.dragEl,n=l.activeSortable,r=l.dispatchSortableEvent,a=l.hideGhostForTarget,l=l.unhideGhostForTarget;t&&(n=o||n,a(),t=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:t,t=document.elementFromPoint(t.clientX,t.clientY),l(),n&&!n.el.contains(t)&&(r("spill"),this.onSpill({dragEl:i,putSortable:o})))};function Ct(){}function Tt(){}Ct.prototype={startIndex:null,dragStart:function(e){e=e.oldDraggableIndex,this.startIndex=e},onSpill:function(e){var t=e.dragEl,o=e.putSortable;this.sortable.captureAnimationState(),o&&o.captureAnimationState(),e=Ee(this.sortable.el,this.startIndex,this.options),e?this.sortable.el.insertBefore(t,e):this.sortable.el.appendChild(t),this.sortable.animateAll(),o&&o.animateAll()},drop:Be},$(Ct,{pluginName:"revertOnSpill"}),Tt.prototype={onSpill:function(o){var t=o.dragEl,o=o.putSortable||this.sortable;o.captureAnimationState(),t.parentNode&&t.parentNode.removeChild(t),o.animateAll()},drop:Be},$(Tt,{pluginName:"removeOnSpill"});var Fe,te,S,je,nt,p=[],z=[],He=!1,K=!1,Te=!1;function Vt(e,t){z.forEach(function(o,i){i=t.children[o.sortableIndex+(e?Number(i):0)],i?t.insertBefore(o,i):t.appendChild(o)})}function it(){p.forEach(function(e){e!==S&&e.parentNode&&e.parentNode.removeChild(e)})}return f.mount(new function(){function e(){for(var t in this.defaults={scroll:!0,forceAutoScrollFallback:!1,scrollSensitivity:30,scrollSpeed:10,bubbleScroll:!0},this)t.charAt(0)==="_"&&typeof this[t]=="function"&&(this[t]=this[t].bind(this))}return e.prototype={dragStarted:function(t){t=t.originalEvent,this.sortable.nativeDraggable?w(document,"dragover",this._handleAutoScroll):this.options.supportPointer?w(document,"pointermove",this._handleFallbackAutoScroll):t.touches?w(document,"touchmove",this._handleFallbackAutoScroll):w(document,"mousemove",this._handleFallbackAutoScroll)},dragOverCompleted:function(t){t=t.originalEvent,this.options.dragOverBubble||t.rootEl||this._handleAutoScroll(t)},drop:function(){this.sortable.nativeDraggable?y(document,"dragover",this._handleAutoScroll):(y(document,"pointermove",this._handleFallbackAutoScroll),y(document,"touchmove",this._handleFallbackAutoScroll),y(document,"mousemove",this._handleFallbackAutoScroll)),qt(),ot(),clearTimeout(Ae),Ae=void 0},nulling:function(){tt=wt=Xe=St=Ye=Et=Dt=null,X.length=0},_handleFallbackAutoScroll:function(t){this._handleAutoScroll(t,!0)},_handleAutoScroll:function(t,o){var i,n=this,r=(t.touches?t.touches[0]:t).clientX,a=(t.touches?t.touches[0]:t).clientY,l=document.elementFromPoint(r,a);tt=t,o||this.options.forceAutoScrollFallback||xe||re||Oe?(_t(t,this.options,l,o),i=de(l,!0),!St||Ye&&r===Et&&a===Dt||(Ye&&qt(),Ye=setInterval(function(){var s=de(document.elementFromPoint(r,a),!0);s!==i&&(i=s,ot()),_t(t,n.options,s,o)},10),Et=r,Dt=a)):this.options.bubbleScroll&&de(l,!0)!==oe()?_t(t,this.options,de(l,!1),!1):ot()}},$(e,{pluginName:"scroll",initializeByDefault:!0})}),f.mount(Tt,Ct),f.mount(new function(){function e(){this.defaults={swapClass:"sortable-swap-highlight"}}return e.prototype={dragStart:function(t){t=t.dragEl,ee=t},dragOverValid:function(t){var o=t.completed,i=t.target,n=t.onMove,r=t.activeSortable,a=t.changed,l=t.cancel;r.options.swap&&(t=this.sortable.el,r=this.options,i&&i!==t&&(t=ee,ee=n(i)!==!1?(x(i,r.swapClass,!0),i):null,t&&t!==ee&&x(t,r.swapClass,!1)),a(),o(!0),l())},drop:function(t){var o,i,n=t.activeSortable,r=t.putSortable,a=t.dragEl,l=r||this.sortable,s=this.options;ee&&x(ee,s.swapClass,!1),ee&&(s.swap||r&&r.options.swap)&&a!==ee&&(l.captureAnimationState(),l!==n&&n.captureAnimationState(),i=ee,t=(o=a).parentNode,s=i.parentNode,t&&s&&!t.isEqualNode(i)&&!s.isEqualNode(o)&&(r=M(o),a=M(i),t.isEqualNode(s)&&r<a&&a++,t.insertBefore(i,t.children[r]),s.insertBefore(o,s.children[a])),l.animateAll(),l!==n&&n.animateAll())},nulling:function(){ee=null}},$(e,{pluginName:"swap",eventProperties:function(){return{swapItem:ee}}})}),f.mount(new function(){function e(t){for(var o in this)o.charAt(0)==="_"&&typeof this[o]=="function"&&(this[o]=this[o].bind(this));t.options.avoidImplicitDeselect||(t.options.supportPointer?w(document,"pointerup",this._deselectMultiDrag):(w(document,"mouseup",this._deselectMultiDrag),w(document,"touchend",this._deselectMultiDrag))),w(document,"keydown",this._checkKeyDown),w(document,"keyup",this._checkKeyUp),this.defaults={selectedClass:"sortable-selected",multiDragKey:null,avoidImplicitDeselect:!1,setData:function(i,n){var r="";p.length&&te===t?p.forEach(function(a,l){r+=(l?", ":"")+a.textContent}):r=n.textContent,i.setData("Text",r)}}}return e.prototype={multiDragKeyDown:!1,isMultiDrag:!1,delayStartGlobal:function(t){t=t.dragEl,S=t},delayEnded:function(){this.isMultiDrag=~p.indexOf(S)},setupClone:function(i){var o=i.sortable,i=i.cancel;if(this.isMultiDrag){for(var n=0;n<p.length;n++)z.push(dt(p[n])),z[n].sortableIndex=p[n].sortableIndex,z[n].draggable=!1,z[n].style["will-change"]="",x(z[n],this.options.selectedClass,!1),p[n]===S&&x(z[n],this.options.chosenClass,!1);o._hideClone(),i()}},clone:function(r){var o=r.sortable,i=r.rootEl,n=r.dispatchSortableEvent,r=r.cancel;this.isMultiDrag&&(this.options.removeCloneOnHide||p.length&&te===o&&(Vt(!0,i),n("clone"),r()))},showClone:function(n){var o=n.cloneNowShown,i=n.rootEl,n=n.cancel;this.isMultiDrag&&(Vt(!1,i),z.forEach(function(r){d(r,"display","")}),o(),nt=!1,n())},hideClone:function(n){var o=this,i=(n.sortable,n.cloneNowHidden),n=n.cancel;this.isMultiDrag&&(z.forEach(function(r){d(r,"display","none"),o.options.removeCloneOnHide&&r.parentNode&&r.parentNode.removeChild(r)}),i(),nt=!0,n())},dragStartGlobal:function(t){t.sortable,!this.isMultiDrag&&te&&te.multiDrag._deselectMultiDrag(),p.forEach(function(o){o.sortableIndex=M(o)}),p=p.sort(function(o,i){return o.sortableIndex-i.sortableIndex}),Te=!0},dragStarted:function(n){var o,i=this,n=n.sortable;this.isMultiDrag&&(this.options.sort&&(n.captureAnimationState(),this.options.animation&&(p.forEach(function(r){r!==S&&d(r,"position","absolute")}),o=_(S,!1,!0,!0),p.forEach(function(r){r!==S&&Ft(r,o)}),He=K=!0)),n.animateAll(function(){He=K=!1,i.options.animation&&p.forEach(function(r){ht(r)}),i.options.sort&&it()}))},dragOver:function(n){var o=n.target,i=n.completed,n=n.cancel;K&&~p.indexOf(o)&&(i(!1),n())},revert:function(t){var o,i,n=t.fromSortable,r=t.rootEl,a=t.sortable,l=t.dragRect;1<p.length&&(p.forEach(function(s){a.addAnimationState({target:s,rect:K?_(s):l}),ht(s),s.fromRect=l,n.removeAnimationState(s)}),K=!1,o=!this.options.removeCloneOnHide,i=r,p.forEach(function(s,u){u=i.children[s.sortableIndex+(o?Number(u):0)],u?i.insertBefore(s,u):i.appendChild(s)}))},dragOverCompleted:function(u){var o,i=u.sortable,n=u.isOwner,r=u.insertion,a=u.activeSortable,l=u.parentEl,s=u.putSortable,u=this.options;r&&(n&&a._hideClone(),He=!1,u.animation&&1<p.length&&(K||!n&&!a.options.sort&&!s)&&(o=_(S,!1,!0,!0),p.forEach(function(h){h!==S&&(Ft(h,o),l.appendChild(h))}),K=!0),n||(K||it(),1<p.length?(n=nt,a._showClone(i),a.options.animation&&!nt&&n&&z.forEach(function(h){a.addAnimationState({target:h,rect:je}),h.fromRect=je,h.thisAnimationDuration=null})):a._showClone(i)))},dragOverAnimationCapture:function(n){var o=n.dragRect,i=n.isOwner,n=n.activeSortable;p.forEach(function(r){r.thisAnimationDuration=null}),n.options.animation&&!i&&n.multiDrag.isMultiDrag&&(je=$({},o),o=me(S,!0),je.top-=o.f,je.left-=o.e)},dragOverAnimationComplete:function(){K&&(K=!1,it())},drop:function(t){var o=t.originalEvent,i=t.rootEl,n=t.parentEl,r=t.sortable,a=t.dispatchSortableEvent,l=t.oldIndex,s=t.putSortable,u=s||this.sortable;if(o){var h,v,E,g=this.options,O=n.children;if(!Te)if(g.multiDragKey&&!this.multiDragKeyDown&&this._deselectMultiDrag(),x(S,g.selectedClass,!~p.indexOf(S)),~p.indexOf(S))p.splice(p.indexOf(S),1),Fe=null,Ne({sortable:r,rootEl:i,name:"deselect",targetEl:S,originalEvent:o});else{if(p.push(S),Ne({sortable:r,rootEl:i,name:"select",targetEl:S,originalEvent:o}),o.shiftKey&&Fe&&r.el.contains(Fe)){var b=M(Fe),t=M(S);if(~b&&~t&&b!==t)for(var P,G=b<t?(P=b,t):(P=t,b+1);P<G;P++)~p.indexOf(O[P])||(x(O[P],g.selectedClass,!0),p.push(O[P]),Ne({sortable:r,rootEl:i,name:"select",targetEl:O[P],originalEvent:o}))}else Fe=S;te=u}Te&&this.isMultiDrag&&(K=!1,(n[B].options.sort||n!==i)&&1<p.length&&(h=_(S),v=M(S,":not(."+this.options.selectedClass+")"),!He&&g.animation&&(S.thisAnimationDuration=null),u.captureAnimationState(),He||(g.animation&&(S.fromRect=h,p.forEach(function(D){var Z;D.thisAnimationDuration=null,D!==S&&(Z=K?_(D):h,D.fromRect=Z,u.addAnimationState({target:D,rect:Z}))})),it(),p.forEach(function(D){O[v]?n.insertBefore(D,O[v]):n.appendChild(D),v++}),l===M(S)&&(E=!1,p.forEach(function(D){D.sortableIndex!==M(D)&&(E=!0)}),E&&a("update"))),p.forEach(function(D){ht(D)}),u.animateAll()),te=u),(i===n||s&&s.lastPutMode!=="clone")&&z.forEach(function(D){D.parentNode&&D.parentNode.removeChild(D)})}},nullingGlobal:function(){this.isMultiDrag=Te=!1,z.length=0},destroyGlobal:function(){this._deselectMultiDrag(),y(document,"pointerup",this._deselectMultiDrag),y(document,"mouseup",this._deselectMultiDrag),y(document,"touchend",this._deselectMultiDrag),y(document,"keydown",this._checkKeyDown),y(document,"keyup",this._checkKeyUp)},_deselectMultiDrag:function(t){if(!(Te!==void 0&&Te||te!==this.sortable||t&&Q(t.target,this.options.draggable,this.sortable.el,!1)||t&&t.button!==0))for(;p.length;){var o=p[0];x(o,this.options.selectedClass,!1),p.shift(),Ne({sortable:this.sortable,rootEl:this.sortable.el,name:"deselect",targetEl:o,originalEvent:t})}},_checkKeyDown:function(t){t.key===this.options.multiDragKey&&(this.multiDragKeyDown=!0)},_checkKeyUp:function(t){t.key===this.options.multiDragKey&&(this.multiDragKeyDown=!1)}},$(e,{pluginName:"multiDrag",utils:{select:function(t){var o=t.parentNode[B];o&&o.options.multiDrag&&!~p.indexOf(t)&&(te&&te!==o&&(te.multiDrag._deselectMultiDrag(),te=o),x(t,o.options.selectedClass,!0),p.push(t))},deselect:function(t){var o=t.parentNode[B],i=p.indexOf(t);o&&o.options.multiDrag&&~i&&(x(t,o.options.selectedClass,!1),p.splice(i,1))}},eventProperties:function(){var t=this,o=[],i=[];return p.forEach(function(n){var r;o.push({multiDragElement:n,index:n.sortableIndex}),r=K&&n!==S?-1:K?M(n,":not(."+t.options.selectedClass+")"):M(n),i.push({multiDragElement:n,index:r})}),{items:Jt(p),clones:[].concat(z),oldIndicies:o,newIndicies:i}},optionListeners:{multiDragKey:function(t){return(t=t.toLowerCase())==="ctrl"?t="Control":1<t.length&&(t=t.charAt(0).toUpperCase()+t.substr(1)),t}}})}),f})})(so);
